<!doctype html>
<html>
    <head>
        <title>dom-runners</title>
        <script src='js/vendors/html2canvas.js'></script>
        <script src='js/Map.js'></script>
        <script src='js/Cell.js'></script>
        <!-- <link rel="stylesheet" type="text/css" href="main.css"> -->
        <style></style>
    </head>
    <body>
        <div align="center">
            <br><br>
            <img src="img.jpg">
            <h1 id="h1el">some header</h1>
            <p>some text...</p>
            <hr>
        </div>
        <script>
        
        var cellsize = 40;
        var map;
        
        html2canvas(document.body, {
            //allowTaint: true,
            onrendered: function(canvas) {
                //document.body.appendChild(canvas);
                var ctx = canvas.getContext('2d');
                var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                
                var demoCanvas = document.createElement('canvas');
                demoCanvas.width = canvas.width;
                demoCanvas.height = canvas.height;
                document.body.appendChild(demoCanvas);
                
                demoCanvas.getContext('2d').putImageData(imgData, 0, 0);
                
                map = new Map(cellsize, demoCanvas);
                map.identifyCellTypes(ctx);
                map.drawCells();
                map.drawGrid();
            }
        });
        
        </script>
    </body>
</html>
